{
  "permissions": {
    "deny": [
      "Write(/data/tasks/**)",
      "Write(*/data/tasks/**)",
      "Edit(/data/tasks/**)",
      "Edit(*/data/tasks/**)",
      "Bash(rm */data/tasks/**)",
      "Bash(mv */data/tasks/**)",
      "Bash(cp */data/tasks/**)"
    ],
    "allow": [
      "Read"
    ]
  },
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "if [ -f \"$AOPS/hooks/load_instructions.py\" ]; then uv run --directory \"$AOPS\" python \"$AOPS/hooks/load_instructions.py\"; else echo '{\"hookSpecificOutput\":{\"hookEventName\":\"SessionStart\",\"additionalContext\":\"# WARNING: load_instructions.py not found\"}}'; fi",
            "timeout": 5000
          },
          {
            "type": "command",
            "command": "if [ -f \"$AOPS/hooks/sync_environment.sh\" ]; then \"$AOPS/hooks/sync_environment.sh\"; else echo '{\"continue\":true}'; fi",
            "timeout": 5000
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "if [ -f \"$AOPS/hooks/validate_tool.py\" ]; then uv run --directory \"$AOPS\" python \"$AOPS/hooks/validate_tool.py\"; else echo '{\"continue\":true,\"systemMessage\":\"Hook not found: validate_tool.py\"}'; fi",
            "timeout": 3000
          }
        ]
      }
    ],
    "SubagentStop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "if [ -f \"$AOPS/hooks/request_scribe_stop.py\" ]; then uv run --directory \"$AOPS\" python \"$AOPS/hooks/request_scribe_stop.py\"; else echo '{}'; fi",
            "timeout": 2000
          }
        ]
      }
    ],
    "Stop": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "if [ -f \"$AOPS/hooks/request_scribe_stop.py\" ]; then uv run --directory \"$AOPS\" python \"$AOPS/hooks/request_scribe_stop.py\"; else echo '{}'; fi",
            "timeout": 2000
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "if [ -f \"$AOPS/hooks/log_posttooluse.py\" ]; then uv run --directory \"$AOPS\" python \"$AOPS/hooks/log_posttooluse.py\"; else echo '{}'; fi",
            "timeout": 2000
          },
          {
            "type": "command",
            "command": "if [ -f \"$AOPS/hooks/autocommit_tasks.py\" ]; then uv run --directory \"$AOPS\" python \"$AOPS/hooks/autocommit_tasks.py\"; else echo '{}'; fi",
            "timeout": 35000
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "if [ -f \"$AOPS/hooks/log_userpromptsubmit.py\" ]; then uv run --directory \"$AOPS\" python \"$AOPS/hooks/log_userpromptsubmit.py\"; else echo '{}'; fi",
            "timeout": 2000
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "user=$(whoami); host=$(hostname -s); dir=$(pwd); dir=${dir/#$HOME/\\~}; git_info=''; if git rev-parse --git-dir >/dev/null 2>&1; then branch=$(git --no-optional-locks symbolic-ref --short HEAD 2>/dev/null || git --no-optional-locks rev-parse --short HEAD 2>/dev/null); if ! git --no-optional-locks diff --quiet 2>/dev/null || ! git --no-optional-locks diff --cached --quiet 2>/dev/null; then status='*'; else status=''; fi; [ -n \"$branch\" ] && git_info=$(printf ' \\033[38;5;99mon \\033[38;5;141m%s%s' \"$branch\" \"$status\"); fi; venv_info=''; [ -n \"$VIRTUAL_ENV\" ] && venv_info=$(printf ' \\033[38;5;45mvia \\033[38;5;51m%s' \"$(basename \"$VIRTUAL_ENV\")\"); printf '\\033[38;5;244m%s\\033[38;5;214m@%s \\033[38;5;75min \\033[38;5;81m%s%s%s' \"$user\" \"$host\" \"$dir\" \"$git_info\" \"$venv_info\""
  },
  "alwaysThinkingEnabled": true
}
