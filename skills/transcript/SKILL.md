---
name: transcript
category: instruction
description: Generate markdown transcripts from Claude Code session files. Converts JSONL session logs to readable markdown with timing, tool operations, and hook context.
allowed-tools: Read,Bash
version: 1.4.0
permalink: skills-transcript
---

# Transcript Skill

Convert Claude Code and Gemini CLI JSONL session files to readable markdown transcripts.

## Arguments

- `today` (default) - transcribe all sessions from today
- `YYYYMMDD` - transcribe sessions from specific date
- `<path>` - transcribe specific session file

## Workflow

### 1. Find Sessions Needing Transcripts

Use `session_status.py` to identify unprocessed sessions:

```bash
# Human-readable report of all session states
cd $AOPS && uv run python scripts/session_status.py --mode=report

# List paths needing transcripts (for batch processing)
cd $AOPS && uv run python scripts/session_status.py --mode=cron-transcript
```

**Options**:

- `--days=N` - How many days back to look (default: 7)
- `--min-age=N` - Skip sessions modified within N minutes (default: 5, avoids in-progress sessions)
- `--allowed-projects=foo,bar` - Filter to specific projects
- `--include-noise` - Include hook logs, test sessions (excluded by default)

**To find current session**: Run with `--min-age=0` and look for the most recent entry. The report mode shows modification times.

### 2. Generate Transcripts

For each session, run:

```bash
cd $AOPS && uv run python scripts/session_transcript.py \
  /path/to/session.jsonl \
  -o $ACA_DATA/sessions/claude/YYYYMMDD-shortproject-sessionid-slug
```

**Default**: Generate both full and abridged versions.

**Output naming**: `YYYYMMDD-<shortproject>-<session_id[:8]>-<slug>-{full,abridged}.md`

**Naming rules**:

- `shortproject`: Last path component, simplified (e.g., `opt-nic-buttermilk` â†’ `buttermilk`)
- `slug`: 1-3 word summary of session work (from `--slug` or auto-generated from first user message)

**Both versions generated by default** - use `--abridged-only` if explicitly requested.

### 3. Skip Up-to-Date

Before generating, check if transcript exists and is newer than session:

```bash
# Check if transcript already exists for session abc12345
ls $ACA_DATA/sessions/claude/*abc12345*-abridged.md 2>/dev/null
```

If file exists and is newer than session's `last_modified`, skip.

### 4. Report

```
Transcripts: Generated N | Skipped M (up-to-date)
```
