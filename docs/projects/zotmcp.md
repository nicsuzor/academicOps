<!-- AUTO-GENERATED by bot/scripts/project_sync.py -->
<!-- Last updated: 2025-10-04T00:00:00Z -->
<!-- DO NOT EDIT MANUALLY - Changes will be overwritten -->

# Project: ZotMCP

## Classification

- **Type**: MCP Tool
- **Status**: Production
- **Priority**: Medium
- **Goal**: Enable AI writing assistance with scholarly sources

## Quick Facts

- **Location**: `projects/zotmcp/`
- **Strategic Doc**: `data/projects/zotero-rag-agent.md`
- **Tech Stack**: Python, Buttermilk, ChromaDB, FastMCP, gemini-embedding-001
- **Dependencies**: buttermilk (vectorization pipeline, agent framework)
- **Deployment**: `us-central1-docker.pkg.dev/prosocial-443205/reg/zotmcp:latest`

## Purpose

RAG (Retrieval-Augmented Generation) agent providing MCP-based access to Zotero research library:

- Full-text vectorization of all library documents
- Semantic search across scholarly sources
- Integration with AI writing assistants (Claude, etc.)
- Monthly ChromaDB refresh cycle

## Architecture

**Data Flow**:

```
Zotero Library
  ↓
Buttermilk Vectorization Pipeline
  ↓
ChromaDB (gemini-embedding-001)
  ↓
MCP Server (FastMCP)
  ↓
AI Writing Assistants
```

**Runtime Pattern** (established Oct 2025):

- **Standalone**: No GCP credentials needed at runtime
- **Embedded DB**: ChromaDB included in Docker image
- **Build Pipeline**: Uses Buttermilk + GCP for summary generation (one-time)
- **Monthly Refresh**: Rebuild ChromaDB with updated library

**MCP Tools**:

- `search`: Semantic search across library
- `get_item`: Retrieve specific document
- `similar_items`: Find related documents
- `get_collection`: Browse Zotero collections
- `get_tags`: Search by tags
- `get_authors`: Browse by author
- `get_item_details`: Full metadata retrieval

## Development

**Setup**:

```bash
cd projects/zotmcp
pip install uv
uv install
```

**Testing**:

```bash
pytest  # 19 tests must pass
```

**Local Development**:

```bash
# Run MCP server locally
python -m zotmcp.server
```

**Deployment**:

```bash
# Build and push Docker image
docker build -t us-central1-docker.pkg.dev/prosocial-443205/reg/zotmcp:latest .
docker push us-central1-docker.pkg.dev/prosocial-443205/reg/zotmcp:latest
```

## Impact Analysis

### Changes Here Affect

**Direct Users**:

- AI writing assistants via MCP protocol
- Local development workflows

**Breaking Changes Require**:

- MCP protocol version bump
- Client configuration updates
- Documentation updates

### Changes to Dependencies Affect This

**Buttermilk Changes**:

- **Vectorization API**: Requires ChromaDB rebuild
- **Agent Framework**: Retest full suite (19 tests)
- **Configuration Schema**: Update config files

**Protocol** (from CROSS_CUTTING_CONCERNS.md):

1. Buttermilk compatible changes → run pytest
2. Buttermilk breaking changes → coordinate rebuild
3. Buttermilk vectorization changes → regenerate ChromaDB

## Coordination with osbchatmcp

**Shared Architecture**: Keep aligned with osbchatmcp

- Docker pattern (standalone runtime)
- MCP protocol version
- Testing approach (pytest suite)
- Build pipeline structure

**Divergence**: Document if intentional

- Data sources differ (Zotero vs OSB cases)
- Embedding models may differ
- Tool interfaces project-specific

## Recent Activity

<!-- AUTO-POPULATED by project_sync.py -->

### 2025-10-03

- Architecture refactor: Removed GCP runtime dependencies
- Docker deployment optimized (standalone pattern)
- Test suite expanded to 19 tests (all passing)
- ChromaDB now embedded in Docker image

### 2025-10-02

- Production deployment to GCP Artifact Registry
- Monthly refresh automation planned

### Previous

- Full vectorization pipeline implemented
- MCP server with 7 tools operational
- GitHub Actions for automated builds
- Actively used for writing support

## Current State

**Deployment**: Production (Docker on GCP Artifact Registry) **Test Status**: PASS (19/19 tests) **Last Deployment**: 2025-10-03T14:22:00Z **Open Issues**: 0 **ChromaDB Status**: Built from Oct 2025 library snapshot

## Critical Reminders for Agents

1. **Test suite must pass** (19 tests) before deployment
2. **MCP protocol changes** - coordinate with osbchatmcp
3. **Vectorization changes** - requires ChromaDB rebuild (expensive)
4. **Docker architecture** - keep aligned with osbchatmcp pattern
5. **Update after deployment** via `project_sync.py`

## Related Documentation

- Strategic context: `data/projects/zotero-rag-agent.md`
- MCP protocol: FastMCP documentation
- Buttermilk vectorization: `projects/buttermilk/docs/reference/vector_database_guide.md`
- Cross-cutting concerns: `docs/CROSS_CUTTING_CONCERNS.md`
