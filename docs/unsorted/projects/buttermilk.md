<!-- AUTO-GENERATED by bot/scripts/project_sync.py -->
<!-- Last updated: 2025-10-04T00:00:00Z -->
<!-- DO NOT EDIT MANUALLY - Changes will be overwritten -->

# Project: Buttermilk

## Classification

- **Type**: Infrastructure
- **Scope**: Foundation for all HASS research workflows
- **Status**: Active development
- **Priority**: Critical

## Quick Facts

- **Location**: `projects/buttermilk/`
- **Strategic Doc**: `data/projects/buttermilk.md`
- **Tech Stack**: Python, Hydra config, BigQuery, GCP, multi-LLM (Gemini/Claude/GPT/Llama)
- **Dependencies**: None (foundation layer)
- **Dependents**: zotmcp, osbchatmcp, automod, mediamarkets

## Purpose

MLOps framework for HASS (Humanities, Arts, Social Sciences) scholars. Provides:

- Opinionated data tools prioritizing culture and context
- Standard flows for computational research
- Research-backed analysis tools
- ScholarOps™ with logging, archiving, versioning

## Architecture

**Core Concepts**:

- **Flows**: Complete research/data processing pipelines
- **Jobs**: Basic units of work for individual records
- **Records**: Immutable data structures with rich metadata
- **Agents**: Specialized components (AI models, data collection)
- **Orchestrators**: Flow execution coordination
- **Configuration**: Hydra-based hierarchical YAML configs

**Key Features**:

- Multimodal foundation model support
- Prompt templating system
- Cloud logging (GCP)
- Flexible storage (GCS, BigQuery)
- Secure credential management (KeyVault, Secrets Manager)
- Tracing (Promptflow, Langchain, W&B)
- API and CLI interfaces
- Local, remote GPU, and cloud compute support

## Development

**Setup**:

```bash
cd projects/buttermilk
pip install uv
uv install
```

**Testing**:

```bash
pytest
```

**Documentation**: `projects/buttermilk/docs/README.md`

## Impact Analysis

### Changes Here Affect 4 Dependent Projects

**CRITICAL**: Buttermilk is the foundation. All changes require careful consideration.

#### High-Impact Changes (MUST HALT)

- API breaking changes (Agent/Flow/Record interfaces)
- Configuration schema changes
- Storage interface modifications
- Core abstractions refactoring

**Protocol**: See `docs/CROSS_CUTTING_CONCERNS.md` → "API Breaking Changes"

#### Medium-Impact Changes (TEST ALL DEPENDENTS)

- New features
- Backward-compatible additions
- Bug fixes to existing functionality
- Performance improvements

**Required Tests**:

```bash
# Buttermilk
pytest

# zotmcp
cd projects/zotmcp && pytest

# osbchatmcp
cd projects/osbchatmcp && pytest

# automod
cd projects/automod.cc && pytest tests/integration/buttermilk_*.py

# mediamarkets
cd projects/mediamarkets && python -m buttermilk.scripts.validate_scrapers
```

#### Low-Impact Changes (PROCEED)

- Internal refactoring
- Documentation updates
- Test suite improvements
- Private method changes

**Protocol**: Normal development, monitor for issues

### Dependency Details by Project

#### zotmcp

**Uses**: Vectorization pipeline, agent framework, ChromaDB integration **Risk**: Breaking changes to vectorization will require rebuilding ChromaDB **Test Coverage**: 19 pytest tests

#### osbchatmcp

**Uses**: Vectorization pipeline, agent framework, ChromaDB integration **Risk**: Same as zotmcp - shared architecture **Test Coverage**: 19 pytest tests **Note**: Keep architecture aligned with zotmcp

#### automod

**Uses**: Full framework - Flows, Agents, Orchestrators, BigQuery logging **Risk**: HIGH - production demo for GLAAD stakeholders **Test Coverage**: Integration tests in `tests/integration/buttermilk_*.py` **Critical Flows**: JUDGE/SYNTH evaluation pipeline

#### mediamarkets

**Uses**: Scrapers, data collection, storage **Risk**: MEDIUM - PhD student dependency (Joel) **Test Coverage**: Scraper validation scripts **Critical Function**: Raw data generation for dbt pipeline

## Recent Activity

<!-- AUTO-POPULATED by project_sync.py -->

### 2025-10 (Current)

- Architecture improvements shared with zotmcp/osbchatmcp
- Docker deployment optimization (standalone runtime pattern)
- Test suite enhancements

### Previous

- See `data/projects/buttermilk.md` for strategic milestones
- See git log for detailed commit history

## Current State

**Deployment**: Local development + cloud compute **Test Status**: Tests must pass before ANY commit **Open Issues**: See GitHub issues tagged `buttermilk` **Documentation**: Active maintenance required

## Critical Reminders for Agents

1. **HALT on breaking changes** - coordinate with 4 dependent projects
2. **Test all dependents** for compatible changes
3. **Update this file** after significant commits via `project_sync.py`
4. **Document API changes** in docstrings and changelog
5. **Version configuration** changes to support migration

## Related Documentation

- Strategic context: `data/projects/buttermilk.md`
- Full docs: `projects/buttermilk/docs/README.md`
- Cross-cutting concerns: `docs/CROSS_CUTTING_CONCERNS.md`
- Agent instructions: `projects/buttermilk/docs/AGENT_INSTRUCTIONS.md`
