<!-- AUTO-GENERATED by bot/scripts/project_sync.py -->
<!-- Last updated: 2025-10-04T00:00:00Z -->
<!-- DO NOT EDIT MANUALLY - Changes will be overwritten -->

# Project: OSBChatMCP

## Classification

- **Type**: MCP Tool
- **Status**: Baseline Functional (delivery method TBD)
- **Priority**: P4 (deprioritized per strategic assessment)
- **Goal**: Support Oversight Board work (second term commitment)

## Quick Facts

- **Location**: `projects/osbchatmcp/`
- **Strategic Doc**: `data/projects/oversight-board.md`
- **Tech Stack**: Python, Buttermilk, ChromaDB, FastMCP, AI-generated IRAC summaries
- **Dependencies**: buttermilk (vectorization pipeline, agent framework)
- **Deployment**: `us-central1-docker.pkg.dev/prosocial-443205/reg/osbchatmcp:latest`

## Purpose

MCP-based search and summarization of Oversight Board case decisions:

- Vector search across all OSB cases
- AI-generated legal summaries (IRAC format)
- Quick case law research for OSB board members
- Integration with AI assistants (Claude, etc.)

## Architecture

**Data Flow**:

```
OSB Case Decisions
  ↓
Buttermilk Vectorization + AI Summarization
  ↓
ChromaDB (embeddings + IRAC summaries)
  ↓
MCP Server (FastMCP)
  ↓
AI Assistants (for board members)
```

**Runtime Pattern** (established Oct 2025):

- **Standalone**: No GCP credentials needed at runtime
- **Embedded DB**: ChromaDB with pre-generated summaries
- **Build Pipeline**: Uses Buttermilk + GCP for summary generation (one-time)
- **Quality**: High-quality IRAC legal summaries (verified working)

**MCP Tools**:

- `search`: Semantic search across OSB cases
- `get_case_summary`: Retrieve IRAC summary (preferred method)
- `get_document`: Full case text
- `get_similar_documents`: Find related cases
- `get_collection_info`: Browse case collections

## Development

**Setup**:

```bash
cd projects/osbchatmcp
pip install uv
uv install
```

**Testing**:

```bash
pytest  # 19 tests must pass
```

**Local Development**:

```bash
# Run MCP server locally
python -m osbchatmcp.server
```

**Deployment**:

```bash
# Build and push Docker image
docker build -t us-central1-docker.pkg.dev/prosocial-443205/reg/osbchatmcp:latest .
docker push us-central1-docker.pkg.dev/prosocial-443205/reg/osbchatmcp:latest
```

## Impact Analysis

### Changes Here Affect

**Stakeholders**:

- Manu, Claudia (OSB contacts)
- Oversight Board members (end users)

**Strategic Context**:

- Low ROI per strategic assessment (Aug 2025)
- "Minimum viable commitment" approach
- May deprioritize given 60% academic writing allocation

### Changes to Dependencies Affect This

**Buttermilk Changes**:

- **Vectorization API**: Requires ChromaDB rebuild (expensive - many summaries)
- **Agent Framework**: Retest full suite (19 tests)
- **LLM Integration**: May affect summary generation quality

**Protocol** (from CROSS_CUTTING_CONCERNS.md):

1. Buttermilk compatible changes → run pytest
2. Buttermilk breaking changes → coordinate rebuild
3. Summary generation changes → regenerate ChromaDB

## Coordination with zotmcp

**Shared Architecture**: Keep aligned with zotmcp

- Docker pattern (standalone runtime)
- MCP protocol version
- Testing approach (pytest suite)
- Build pipeline structure

**Recent Progress** (Oct 3, 2025):

- Architecture improvements shared with zotmcp
- Both projects now have consistent Docker patterns
- Removed buttermilk LLM dependencies from runtime

**Divergence**: Document if intentional

- Data sources differ (OSB cases vs Zotero library)
- Summary format (IRAC legal analysis vs bibliographic)
- Tool interfaces project-specific

## Recent Activity

<!-- AUTO-POPULATED by project_sync.py -->

### 2025-10-03

- **Tool optimized**: Fixed get_case_summary (was 100% broken)
- **Metadata cleaned**: 30-40% token reduction in responses
- **Guidance added**: Research methodology prompts
- **Quality validated**: 19/19 tests passing
- **Architecture improved**: Removed buttermilk LLM deps from runtime
- **Distribution simplified**: Standalone container, no GCP creds needed
- **Testing enhanced**: Comprehensive pytest suite added

### 2025-10-02

- Baseline established: Vector search + AI summaries working via MCP
- Vector database contains high-quality IRAC summaries (verified)

## Current State

**Deployment**: Baseline functional (Docker image ready) **Test Status**: PASS (19/19 tests) **Delivery Method**: TBD - options:

1. Share Docker image + run command (simplest)
2. Full automod chat interface (richer UX) **Blocker RESOLVED**: No runtime GCP credentials needed **Strategic Status**: May deprioritize pending OSB ROI assessment

## Critical Reminders for Agents

1. **Test suite must pass** (19 tests) before delivery
2. **MCP protocol changes** - coordinate with zotmcp
3. **Summary regeneration** - expensive (AI-generated IRAC for all cases)
4. **Docker architecture** - keep aligned with zotmcp pattern
5. **Strategic priority** - P4 (minimum viable commitment)
6. **Update after changes** via `project_sync.py`

## Related Documentation

- Strategic context: `data/projects/oversight-board.md`
- MCP protocol: FastMCP documentation
- Buttermilk vectorization: `projects/buttermilk/docs/reference/osb_vector_database_guide.md`
- Cross-cutting concerns: `docs/CROSS_CUTTING_CONCERNS.md`
