# Agent environment variable mappings for headless sessions.
#
# Two formats supported:
#   TARGET=SOURCE     — set TARGET to the value of $SOURCE from parent env.
#                       Skipped if SOURCE is not set.
#   TARGET:=VALUE     — set TARGET to the literal VALUE.
#                       Use empty VALUE (TARGET:=) to unset/clear a variable.
#
# Lines starting with # are comments. Blank lines are ignored.
#
# This file is the single source of truth for credential isolation
# and env var forwarding to agent subprocesses. It is read by:
#   - lib/agent_env.py (shared library)
#   - hooks/session_env_setup.py (Claude CLAUDE_ENV_FILE persistence)
#   - tests/conftest.py (headless test harness)

# --- Credential isolation (issue #581) ---
# Agents must use the bot PAT, not the user's personal GitHub credentials.
# GH_TOKEN is the primary env var for the gh CLI (takes precedence over GITHUB_TOKEN).
# GITHUB_TOKEN is also set for broader tool compatibility (Actions, some SDKs).
GH_TOKEN=AOPS_BOT_GH_TOKEN
GITHUB_TOKEN=AOPS_BOT_GH_TOKEN

# --- SSH isolation ---
# Disconnect agent from user's SSH agent so git operations can't use personal keys.
# Forces git to use HTTPS + GH_TOKEN instead of SSH.
SSH_AUTH_SOCK:=
GIT_TERMINAL_PROMPT:=0
